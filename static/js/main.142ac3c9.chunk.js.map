{"version":3,"sources":["common/actions/user.ts","authorization/auth.ts","components/SignIn/SignIn.tsx","common/actions/tracksAttributes.ts","common/actions/topArtists.ts","common/actions/snackbar.ts","common/actions/followedArtists.ts","components/SignIn/index.ts","components/HomePage/HomePage.tsx","components/HomePage/index.ts","components/Playlist/actions.ts","components/NotFound/NotFound.tsx","components/NotFound/index.ts","common/helpers/stringHelpers.ts","common/themes/button.ts","common/themes/slider.ts","common/themes/input.ts","common/themes/chip.ts","common/themes/table.ts","common/themes/linearProgressTheme.ts","components/Playlist/Playlist.tsx","components/Playlist/helpers/formatHelpers.ts","common/helpers/dateTimeHelpers.ts","components/Playlists/actions.ts","components/Playlist/index.ts","components/Playlists/subcomponents/PlaylistCard.tsx","components/Playlists/Playlists.tsx","common/constants/pagination.ts","components/Playlists/index.ts","components/CreatePlaylist/CreatePlaylist.tsx","components/CreatePlaylist/index.ts","components/ResponsiveDrawer/subcomponents/Profile.tsx","components/ResponsiveDrawer/subcomponents/SignOut.tsx","components/ResponsiveDrawer/ResponsiveDrawer.tsx","core/app/App.tsx","core/app/index.ts","components/Snackbar/reducer.ts","redux/rootReducer.ts","common/reducers/spotifyClient.ts","common/reducers/user.ts","components/Playlists/reducer.ts","components/Playlist/reducer.ts","common/reducers/tracksAttributes.ts","components/TopArtists/reducer.ts","components/FollowedArtists/reducer.ts","redux/store.ts","index.tsx"],"names":["USER","authEndpoint","scopes","clientId","redirectUri","SignIn","componentDidMount","a","props","history","spotifyWebApi","fetchUser","location","pathname","indexOf","treatedPathname","substring","setAccessToken","URLSearchParams","get","then","_","push","render","params","client_id","encodeURI","redirect_uri","scope","join","response_type","className","href","toString","React","TRACKS_ATTRIBUTES","api","dispatch","getMe","response","data","body","type","RECEIVE_USER","TOP_ARTISTS","SNACKBAR","FOLLOWED_ARTISTS","openSnackbar","OPEN","mapDispatchToProps","connector","connect","state","withRouter","useStyles","makeStyles","theme","root","height","backgroundColor","image","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","form","width","marginTop","submit","PLAYLIST","classes","Grid","container","component","CssBaseline","item","xs","sm","md","Paper","elevation","square","Typography","variant","style","color","NotFound","capitalizeFirstLetter","str","charAt","toUpperCase","slice","buttonTheme","createTheme","overrides","MuiButton","containedPrimary","textTransform","sliderTheme","MuiSlider","thumbColorPrimary","track","rail","valueLabel","inputTheme","palette","primary","main","dark","MuiInput","MuiFormControl","chipTheme","MuiChip","tableTheme","MuiTableCell","paddingLeft","paddingRight","paddingTop","paddingBottom","linearProgresTheme","MuiLinearProgress","borderRadius","colorPrimary","barColorPrimary","bar","Playlist","window","scrollTo","top","behavior","fetchPlaylist","fetchTracksAttributes","playlistId","lastIndexOf","playlist","id","tracks","items","map","playlistToTrackIds","setState","loading","renderPlaylistArtwork","images","length","uri","src","url","maxWidth","maxHeight","alt","name","renderPlaylistName","renderPlaylistOwner","owner","display_name","renderAttributeBar","normalizedData","attribute","ThemeProvider","LinearProgress","value","renderPlaylistAnalysis","tracksAttributes","normalized","acousticness","danceability","energy","instrumentalness","valence","count","audio_features","forEach","feature","normalizeTrackAudioFeature","direction","renderAlbumArtwork","album","renderTracks","TableContainer","Table","TableBody","trackObject","TableRow","hover","key","TableCell","artists","input","totalHours","totalMinutes","totalSeconds","hours","minutes","seconds","result","Math","floor","millisecondsToViewableFormat","duration_ms","lg","xl","PLAYLISTS","getPlaylist","RECEIVE_PLAYLIST","trackIds","getAudioFeaturesForTracks","RECEIVE_TRACKS_ATTRIBUTES","cardTheme","createMuiTheme","MuiCard","boxShadow","PlaylistCard","to","textDecoration","Card","CardActionArea","CardMedia","padding","title","CardContent","Playlists","fetchPlaylists","user","playlists","search","limit","offset","handlePaginationChange","page","undefined","Pagination","total","onChange","userId","options","getUserPlaylists","RECEIVE_PLAYLISTS","receivePlaylist","CreatePlaylist","fetchTopArtists","topArtists","fetchFollowedArtists","followedArtists","valueLabelFormat","round","handleSliderChange","attr","newValue","query","min","max","handlePlaylistNameChange","event","playlistName","target","handleArtistSelect","selectedArtistsIds","handleCreatePlaylistClick","getRecommendations","min_acousticness","max_acousticness","min_danceability","max_danceability","min_energy","max_energy","min_instrumentalness","max_instrumentalness","min_valence","max_valence","seed_artists","createPlaylist","addTracksToPlaylist","clearPlaylist","open","message","alphabetizeArtists","sort","b","renderPlaylistNameInput","TextField","renderAttributeSlider","Slider","valueLabelDisplay","step","renderChip","selectedArtist","find","Chip","label","Avatar","renderArtistSelect","FormControl","error","Select","multiple","Input","multiline","renderValue","selected","flexWrap","artist","MenuItem","FormHelperText","longTerm","mediumTerm","shortTerm","concat","filter","e","i","findIndex","justify","Button","size","onClick","disabled","timeRange","getMyTopArtists","time_range","RECEIVE_TOP_ARTISTS_LONG_TERM","RECEIVE_TOP_ARTISTS_MEDIUM_TERM","receiveTopArtistsMediumTerm","RECEIVE_TOP_ARTISTS_SHORT_TERM","receiveTopArtistsShortTerm","getFollowedArtists","RECEIVE","CLEAR","Profile","Divider","wordWrap","SignOut","onClickHandler","resetAccessToken","createStyles","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","toolbar","mixins","drawerPaper","content","flexGrow","ResponsiveDrawer","useTheme","useState","mobileOpen","setMobileOpen","handleDrawerToggle","justifyContent","List","ListItem","button","ListItemText","document","AppBar","position","Toolbar","IconButton","aria-label","edge","noWrap","Hidden","smUp","implementation","Drawer","anchor","onClose","ModalProps","keepMounted","Fragment","xsDown","children","App","expiresIn","Date","setSeconds","getSeconds","Number","setInterval","clearInterval","autoHideDuration","anchorOrigin","horizontal","vertical","closeSnackbar","snackbar","getAccessToken","Snackbar","exact","path","HomePage","CLOSE","initialSnackbarState","combineReducers","SpotifyWebApi","action","merge","defaultState","configureStore","preloadedState","createStore","rootReducer","applyMiddleware","thunk","addEventListener","getElementById","store","ReactDOM"],"mappings":"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","file":"static/js/main.142ac3c9.chunk.js","sourcesContent":["import { Dispatch } from 'react';\nimport { ThunkAction } from 'redux-thunk';\nimport SpotifyWebApi from 'spotify-web-api-node';\n\nimport { IRootState, IAction, Response } from 'common/interfaces';\n\nexport enum USER {\n  RECEIVE_USER = 'user/RECEIVE_USER',\n}\n\nexport const receiveUser = (\n  data: SpotifyApi.CurrentUsersProfileResponse\n): IAction<SpotifyApi.CurrentUsersProfileResponse> => {\n  return { type: USER.RECEIVE_USER, data };\n};\n\nexport const fetchUser = (\n  api: SpotifyWebApi\n): ThunkAction<Promise<void>, IRootState, unknown, IAction<SpotifyApi.CurrentUsersProfileResponse>> => {\n  return (dispatch: Dispatch<IAction<SpotifyApi.CurrentUsersProfileResponse>>): Promise<void> => {\n    return api.getMe().then((response: Response<SpotifyApi.CurrentUsersProfileResponse>) => {\n      dispatch(receiveUser(response.body));\n    });\n  };\n};\n","/*\n  Safe to expost these auth credentials due to the grant flow I am following:\n  \n  \"\"\"\n  Implicit grant flow is for clients that are implemented entirely using JavaScript and running in the resource owner’s\n  browser. You do not need any server-side code to use it. Rate limits for requests are improved but there is no\n  refresh token provided. \n  \"\"\"\n\n  https://developer.spotify.com/documentation/general/guides/authorization-guide/\n*/\n\nexport const authEndpoint: string = 'https://accounts.spotify.com/authorize?';\n\nexport const scopes: string[] = [\n  'playlist-read-collaborative',\n  'playlist-modify-public',\n  'user-top-read',\n  'playlist-read-private',\n  'playlist-modify-private',\n  'user-follow-read',\n  'user-read-recently-played',\n  'user-library-read',\n];\n\nexport const responseType: string = 'token';\n\nexport const clientId: string =\n  process.env.NODE_ENV === 'development' ? 'a91af95c5d8c4e178920646664034328' : 'a5c714fac13f4b5c924497c3b9e533a2';\n\nexport const redirectUri: string =\n  process.env.NODE_ENV === 'development' ? 'http://localhost:3000' : 'https://gaganza.github.io/apollos-playlist/';\n","import * as React from 'react';\n\nimport { redirectUri, clientId, scopes, authEndpoint, responseType } from 'authorization';\nimport { TSignInProps } from './interfaces';\n\nimport './style.scss';\n\nclass SignIn extends React.PureComponent<TSignInProps> {\n  public componentDidMount = async (): Promise<void> => {\n    let { history, spotifyWebApi, fetchUser } = this.props;\n    let { location } = history;\n    let { pathname } = location;\n\n    // if the string 'access_token' exists in the URL then that means we were just redirected from the Spotfiy auth\n    // endpoint and now have all of the info we need to safely use the Spotify API client\n    if (pathname.indexOf('access_token') !== -1) {\n      // due to the HashRouter all the links will look like /#/ - meaning in this case pathname will be prefixed with\n      // a '/' which we have to strip out & replace with a '?' in order to easily use a URLSearchParam object for\n      // parsing. Sadly, messing with the redirect uri did not help fix this issue.\n\n      let treatedPathname: string = '?' + pathname.substring(1);\n\n      spotifyWebApi.setAccessToken(new URLSearchParams(treatedPathname).get('access_token')!);\n\n      await fetchUser(spotifyWebApi).then((_: void) => {\n        history.push('/playlists');\n      });\n    }\n  };\n\n  public render = (): JSX.Element => {\n    let params: URLSearchParams = new URLSearchParams({\n      client_id: encodeURI(clientId),\n      redirect_uri: encodeURI(redirectUri),\n      scope: scopes.join(' '),\n      response_type: encodeURI(responseType),\n    });\n\n    return (\n      <a className=\"sign-in-button\" href={authEndpoint + params.toString()}>\n        Login to Spotify\n      </a>\n    );\n  };\n}\n\nexport default SignIn;\n","import SpotifyWebApi from 'spotify-web-api-node';\nimport { Dispatch } from 'react';\nimport { ThunkAction } from 'redux-thunk';\n\nimport { IAction, Response, IRootState } from 'common/interfaces';\n\nexport enum TRACKS_ATTRIBUTES {\n  RECEIVE_TRACKS_ATTRIBUTES = 'trackAttributes/RECEIVE_TRACKS_ATTRIBUTES',\n}\n\nexport const receiveTrackAttributes = (\n  data: SpotifyApi.MultipleAudioFeaturesResponse\n): IAction<SpotifyApi.MultipleAudioFeaturesResponse> => {\n  return { type: TRACKS_ATTRIBUTES.RECEIVE_TRACKS_ATTRIBUTES, data };\n};\n\nexport const fetchTracksAttributes = (\n  api: SpotifyWebApi,\n  trackIds: string[]\n): ThunkAction<Promise<void>, IRootState, unknown, IAction<SpotifyApi.MultipleAudioFeaturesResponse>> => {\n  return (dispatch: Dispatch<IAction<SpotifyApi.MultipleAudioFeaturesResponse>>): Promise<void> => {\n    return api\n      .getAudioFeaturesForTracks(trackIds)\n      .then((response: Response<SpotifyApi.MultipleAudioFeaturesResponse>) => {\n        dispatch(receiveTrackAttributes(response.body));\n      });\n  };\n};\n","import SpotifyWebApi from 'spotify-web-api-node';\nimport { Dispatch } from 'react';\nimport { ThunkAction } from 'redux-thunk';\nimport { IAction, IRootState, Response } from 'common/interfaces';\n\nexport enum TOP_ARTISTS {\n  RECEIVE_TOP_ARTISTS_LONG_TERM = 'topArtsits/RECEIVE_TOP_ARTISTS_LONG_TERM',\n  RECEIVE_TOP_ARTISTS_MEDIUM_TERM = 'topArtsits/RECEIVE_TOP_ARTISTS_MEDIUM_TERM',\n  RECEIVE_TOP_ARTISTS_SHORT_TERM = 'topArtsits/RECEIVE_TOP_ARTISTS_SHORT_TERM',\n}\n\nexport const receiveTopArtistsLongTerm = (\n  data: SpotifyApi.UsersTopArtistsResponse\n): IAction<SpotifyApi.UsersTopArtistsResponse> => {\n  return { type: TOP_ARTISTS.RECEIVE_TOP_ARTISTS_LONG_TERM, data };\n};\n\nexport const receiveTopArtistsMediumTerm = (\n  data: SpotifyApi.UsersTopArtistsResponse\n): IAction<SpotifyApi.UsersTopArtistsResponse> => {\n  return { type: TOP_ARTISTS.RECEIVE_TOP_ARTISTS_MEDIUM_TERM, data };\n};\n\nexport const receiveTopArtistsShortTerm = (\n  data: SpotifyApi.UsersTopArtistsResponse\n): IAction<SpotifyApi.UsersTopArtistsResponse> => {\n  return { type: TOP_ARTISTS.RECEIVE_TOP_ARTISTS_SHORT_TERM, data };\n};\n\nexport const fetchTopArtists = (\n  api: SpotifyWebApi,\n  timeRange: 'long_term' | 'medium_term' | 'short_term'\n): ThunkAction<Promise<void>, IRootState, unknown, IAction<SpotifyApi.UsersTopArtistsResponse>> => {\n  return (dispatch: Dispatch<IAction<SpotifyApi.UsersTopArtistsResponse>>): Promise<void> => {\n    return api\n      .getMyTopArtists({ time_range: timeRange, limit: 50 })\n      .then((response: Response<SpotifyApi.UsersTopArtistsResponse>) => {\n        if (timeRange === 'long_term') {\n          dispatch(receiveTopArtistsLongTerm(response.body));\n        } else if (timeRange === 'medium_term') {\n          dispatch(receiveTopArtistsMediumTerm(response.body));\n        } else {\n          dispatch(receiveTopArtistsShortTerm(response.body));\n        }\n      });\n  };\n};\n","import { SnackbarProps } from '@material-ui/core';\n\nimport { IAction } from 'common/interfaces';\n\nexport enum SNACKBAR {\n  OPEN = 'snackbar/OPEN',\n  CLOSE = 'snackbar/CLOSE',\n}\n\nexport const openSnackbar = (data: Partial<SnackbarProps>): IAction<Partial<SnackbarProps>> => {\n  return { type: SNACKBAR.OPEN, data };\n};\n\nexport const closeSnackbar = (): IAction<unknown> => {\n  return { type: SNACKBAR.CLOSE, data: undefined };\n};\n","import SpotifyWebApi from 'spotify-web-api-node';\nimport { Dispatch } from 'react';\nimport { ThunkAction } from 'redux-thunk';\nimport { IAction, IRootState, Response } from 'common/interfaces';\n\nexport enum FOLLOWED_ARTISTS {\n  RECEIVE = 'followedArtists/RECEIVE',\n}\n\nexport const receiveFollowedArtists = (\n  data: SpotifyApi.UsersFollowedArtistsResponse\n): IAction<SpotifyApi.UsersFollowedArtistsResponse> => {\n  return {\n    type: FOLLOWED_ARTISTS.RECEIVE,\n    data,\n  };\n};\n\nexport const fetchFollowedArtists = (\n  api: SpotifyWebApi\n): ThunkAction<Promise<void>, IRootState, unknown, IAction<SpotifyApi.UsersFollowedArtistsResponse>> => {\n  return (dispatch: Dispatch<IAction<SpotifyApi.UsersFollowedArtistsResponse>>): Promise<void> => {\n    return api.getFollowedArtists({ limit: 50 }).then((response: Response<SpotifyApi.UsersFollowedArtistsResponse>) => {\n      dispatch(receiveFollowedArtists(response.body));\n    });\n  };\n};\n","import { connect, ConnectedProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport SignIn from './SignIn';\nimport { fetchUser } from 'common/actions';\nimport {  IRootState } from 'common/interfaces';\n\nconst mapStateToProps = (state: IRootState) => {\n  return {\n    spotifyWebApi: state.spotifyWebApi,\n  };\n};\n\nconst mapDispatchToProps = {\n  fetchUser\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type TSignInConnectedProps = ConnectedProps<typeof connector>;\n\nexport default connector(withRouter(SignIn));\n\n","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SignIn from 'components/SignIn';\n\nimport './styles.scss';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n    backgroundColor: '#1D1E28',\n  },\n  image: {\n    backgroundImage:\n      'url(https://images.unsplash.com/photo-1507808973436-a4ed7b5e87c9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: '#1D1E28',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    backgroundColor: '#1D1E28',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#1D1E28',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide() {\n  const classes = useStyles();\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square className={'apollos-playlist__home-page'}>\n        <div className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h5\" style={{ color: 'white ' }}>\n            Apollo's Playlist\n          </Typography>\n          <SignIn />\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n","import { withRouter } from 'react-router-dom';\n\nimport HomePage from './HomePage';\n\nexport default withRouter(HomePage);\n","import SpotifyWebApi from 'spotify-web-api-node';\nimport { Dispatch } from 'react';\nimport { ThunkAction } from 'redux-thunk';\n\nimport { IAction, Response, IRootState } from 'common/interfaces';\n\nexport enum PLAYLIST {\n  RECEIVE_PLAYLIST = 'playlist/RECEIVE_PLAYLIST',\n}\n\nexport const receivePlaylist = (\n  data: SpotifyApi.SinglePlaylistResponse\n): IAction<SpotifyApi.SinglePlaylistResponse> => {\n  return { type: PLAYLIST.RECEIVE_PLAYLIST, data };\n};\n\nexport const fetchPlaylist = (\n  api: SpotifyWebApi,\n  playlistId: string\n): ThunkAction<Promise<void>, IRootState, unknown, IAction<SpotifyApi.SinglePlaylistResponse>> => {\n  return (dispatch: Dispatch<IAction<SpotifyApi.SinglePlaylistResponse>>): Promise<void> => {\n    return api.getPlaylist(playlistId).then((response: Response<SpotifyApi.SinglePlaylistResponse>) => {\n      dispatch(receivePlaylist(response.body));\n    });\n  };\n};\n","import * as React from 'react';\n\nimport { TNotFoundProps } from './interfaces';\n\nclass NotFound extends React.PureComponent<TNotFoundProps> {\n  public render = (): JSX.Element => {\n    return <div>Not Found</div>;\n  };\n}\n\nexport default NotFound;\n","import { withRouter } from 'react-router-dom';\n\nimport NotFound from './NotFound';\n\nexport default withRouter(NotFound);\n","export const capitalizeFirstLetter = (str: string): string => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const buttonTheme = createTheme({\n  overrides: {\n    MuiButton: {\n      containedPrimary: {\n        textTransform: 'none',\n        backgroundColor: '#1D1E28',\n        '&:hover': {\n          backgroundColor: 'grey',\n        },\n      },\n    },\n  },\n});\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const sliderTheme = createTheme({\n  overrides: {\n    MuiSlider: {\n      thumbColorPrimary: {\n        backgroundColor: '#1D1E28',\n      },\n      track: {\n        backgroundColor: '#1D1E28',\n      },\n      rail: {\n        backgroundColor: 'gray',\n      },\n      valueLabel: {\n        color: '#1D1E28',\n      },\n    },\n  },\n});\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const inputTheme = createTheme({\n  palette: {\n    primary: {\n      main: '#1D1E28',\n      dark: '#1D1E28',\n    },\n  },\n  overrides: {\n    MuiInput: {\n      root: {\n        width: '100%',\n      },\n    },\n\n    MuiFormControl: {\n      root: {\n        width: '100%',\n      },\n    },\n  },\n});\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const chipTheme = createTheme({\n  overrides: {\n    MuiChip: {\n      root: {\n        margin: '8px',\n      },\n    },\n  },\n});\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const tableTheme = createTheme({\n  overrides: {\n    MuiTableCell: {\n      root: {\n        paddingLeft: '0px',\n        paddingRight: '8px',\n        paddingTop: '4px',\n        paddingBottom: '4px',\n      },\n    },\n  },\n});\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const linearProgresTheme = createTheme({\n  overrides: {\n    MuiLinearProgress: {\n      root: {\n        height: 10,\n        borderRadius: 5,\n      },\n      colorPrimary: {\n        backgroundColor: 'grey',\n      },\n      barColorPrimary: {\n        backgroundColor: '#1D1E28',\n      },\n      bar: {\n        borderRadius: 5,\n      },\n    },\n  },\n});\n","import * as React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Table, TableContainer, TableRow, TableCell, TableBody, Typography, LinearProgress } from '@material-ui/core';\nimport PhotoSizeSelectActual from '@material-ui/icons/PhotoSizeSelectActual';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { ThemeProvider } from '@material-ui/core/styles';\n\nimport { capitalizeFirstLetter, millisecondsToViewableFormat } from 'common/helpers';\nimport { playlistToTrackIds, normalizeTrackAudioFeature } from './helpers';\nimport { IAudioFeatures } from 'common/interfaces';\nimport { TPlaylistProps, IPlaylistState } from './interfaces';\n\nimport { tableTheme, linearProgresTheme } from 'common/themes';\n\nclass Playlist extends React.Component<TPlaylistProps, IPlaylistState> {\n  public constructor(props: TPlaylistProps) {\n    super(props);\n\n    this.state = { loading: true };\n  }\n\n  public componentDidMount = (): void => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n    let { location, spotifyWebApi, fetchPlaylist, fetchTracksAttributes } = this.props;\n\n    let playlistId: string = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\n\n    if (playlistId !== this.props.playlist?.id) {\n      fetchPlaylist(spotifyWebApi, playlistId).then(() => {\n        let { playlist } = this.props;\n\n        if (!playlist) return;\n        fetchTracksAttributes(spotifyWebApi, playlistToTrackIds(playlist));\n      });\n    }\n\n    this.setState({ loading: false });\n  };\n\n  public renderPlaylistArtwork = (playlist: SpotifyApi.SinglePlaylistResponse): JSX.Element | null => {\n    if (!playlist || !playlist.images || playlist.images.length === 0) return null;\n\n    return (\n      <a href={playlist.uri}>\n        <img\n          src={playlist.images[0].url}\n          style={{ maxWidth: '300px', maxHeight: '300px ' }}\n          alt={`${playlist.name} playlist artwork`}\n        />\n      </a>\n    );\n  };\n\n  public renderPlaylistName = (playlist: SpotifyApi.SinglePlaylistResponse): JSX.Element | null => {\n    if (!playlist) return null;\n\n    return <Typography>{playlist.name}</Typography>;\n  };\n\n  public renderPlaylistOwner = (playlist: SpotifyApi.SinglePlaylistResponse): JSX.Element | null => {\n    if (!playlist) return null;\n\n    return (\n      <div style={{ display: 'flex', alignItems: 'row' }}>\n        <PersonIcon />\n        <Typography>{playlist.owner.display_name}</Typography>\n      </div>\n    );\n  };\n\n  public renderAttributeBar = (normalizedData: IAudioFeatures, attribute: keyof IAudioFeatures): JSX.Element => {\n    return (\n      <div>\n        <Typography>{capitalizeFirstLetter(attribute)}</Typography>\n        <ThemeProvider theme={linearProgresTheme}>\n          <LinearProgress variant=\"determinate\" value={normalizedData[attribute]} />\n        </ThemeProvider>\n      </div>\n    );\n  };\n\n  public renderPlaylistAnalysis = (tracksAttributes: SpotifyApi.MultipleAudioFeaturesResponse): JSX.Element | null => {\n    if (!tracksAttributes) return null;\n\n    let normalizedData: IAudioFeatures = normalizeTrackAudioFeature(tracksAttributes);\n\n    return (\n      <Grid container spacing={1} direction={'column'}>\n        <Grid item>{this.renderAttributeBar(normalizedData, 'acousticness')}</Grid>\n        <Grid item>{this.renderAttributeBar(normalizedData, 'danceability')}</Grid>\n        <Grid item>{this.renderAttributeBar(normalizedData, 'energy')}</Grid>\n        <Grid item>{this.renderAttributeBar(normalizedData, 'instrumentalness')}</Grid>\n        <Grid item>{this.renderAttributeBar(normalizedData, 'valence')}</Grid>\n      </Grid>\n    );\n  };\n\n  public renderAlbumArtwork = (track: SpotifyApi.TrackObjectFull): JSX.Element => {\n    const album = track.album;\n\n    if (album.images.length > 0) {\n      return (\n        <a href={track.uri}>\n          <img\n            style={{ maxHeight: '50px', maxWidth: '50px' }}\n            src={album.images[0].url}\n            alt={'Album artwork for the song'}\n          />\n        </a>\n      );\n    }\n\n    return (\n      <a href={track.uri}>\n        <PhotoSizeSelectActual />\n      </a>\n    );\n  };\n\n  public renderTracks = (playlist: SpotifyApi.SinglePlaylistResponse): JSX.Element | null => {\n    if (!playlist) return null;\n\n    return (\n      <ThemeProvider theme={tableTheme}>\n        <TableContainer>\n          <Table>\n            <TableBody>\n              {playlist.tracks.items.map((trackObject: SpotifyApi.PlaylistTrackObject) => {\n                const { track } = trackObject;\n\n                return (\n                  <TableRow hover key={`table-row-${track.id}`}>\n                    <TableCell style={{ width: '50px' }}>{this.renderAlbumArtwork(track)}</TableCell>\n                    <TableCell style={{ display: 'flex', flexDirection: 'column' }}>\n                      <Typography>{track.name}</Typography>\n                      <Typography>\n                        {track.artists[0].name} - {track.album.name}\n                      </Typography>\n                    </TableCell>\n                    <TableCell>{millisecondsToViewableFormat(track.duration_ms)}</TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </ThemeProvider>\n    );\n  };\n\n  public render = (): JSX.Element | null => {\n    let { location, playlist, tracksAttributes } = this.props;\n    let { loading } = this.state;\n\n    let playlistId: string = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\n\n    if (!playlist || playlist.id !== playlistId) return null;\n    if (!tracksAttributes) return null;\n\n    return (\n      <Grid container spacing={3}>\n        {loading && (\n          <Grid item xs={12}>\n            <ThemeProvider theme={linearProgresTheme}>\n              <LinearProgress />\n            </ThemeProvider>\n          </Grid>\n        )}\n\n        <Grid item xs={12} md={6} lg={4} xl={3}>\n          {this.renderPlaylistArtwork(playlist)}\n        </Grid>\n        <Grid item xs={12} md={6} lg={8} xl={9}>\n          {this.renderPlaylistName(playlist)}\n          <br />\n          {this.renderPlaylistOwner(playlist)}\n          <br />\n          {this.renderPlaylistAnalysis(tracksAttributes)}\n        </Grid>\n        <Grid item xs={12}>\n          {this.renderTracks(playlist)}\n        </Grid>\n      </Grid>\n    );\n  };\n}\n\nexport default Playlist;\n","import { IAudioFeatures } from 'common/interfaces';\n\nexport const playlistToTrackIds = (playlist: SpotifyApi.SinglePlaylistResponse): string[] => {\n  return playlist.tracks.items.map((item: SpotifyApi.PlaylistTrackObject) => {\n    return item.track.id;\n  });\n};\n\nexport const normalizeTrackAudioFeature = (\n  tracksAttributes: SpotifyApi.MultipleAudioFeaturesResponse\n): IAudioFeatures => {\n  let normalized: IAudioFeatures = {\n    acousticness: 0.0,\n    danceability: 0.0,\n    energy: 0.0,\n    instrumentalness: 0.0,\n    valence: 0.0,\n  };\n\n  let count: number = tracksAttributes.audio_features.length;\n\n  tracksAttributes.audio_features.forEach((feature: SpotifyApi.AudioFeaturesObject) => {\n    if (feature) {\n      normalized.acousticness += feature.acousticness;\n      normalized.danceability += feature.danceability;\n      normalized.energy += feature.energy;\n      normalized.instrumentalness += feature.instrumentalness;\n      normalized.valence += feature.valence;\n    }\n  });\n\n  normalized.acousticness = (normalized.acousticness / count) * 100;\n  normalized.danceability = (normalized.danceability / count) * 100;\n  normalized.energy = (normalized.energy / count) * 100;\n  normalized.instrumentalness = (normalized.instrumentalness / count) * 100;\n  normalized.valence = (normalized.valence / count) * 100;\n\n  return normalized;\n};\n","export const millisecondsToViewableFormat = (input: number): string => {\n  let totalHours,\n    totalMinutes,\n    totalSeconds,\n    hours,\n    minutes,\n    seconds,\n    result = '';\n\n  totalSeconds = input / 1000;\n  totalMinutes = totalSeconds / 60;\n  totalHours = totalMinutes / 60;\n\n  seconds = Math.floor(totalSeconds) % 60;\n  minutes = Math.floor(totalMinutes) % 60;\n  hours = Math.floor(totalHours) % 60;\n\n  if (hours !== 0) {\n    result += hours + ':';\n\n    if (minutes.toString().length === 1) {\n      minutes = '0' + minutes;\n    }\n  }\n\n  result += minutes + ':';\n\n  if (seconds.toString().length === 1) {\n    seconds = '0' + seconds;\n  }\n\n  result += seconds;\n\n  return result;\n};\n","import SpotifyWebApi from 'spotify-web-api-node';\nimport { Dispatch } from 'react';\nimport { ThunkAction } from 'redux-thunk';\n\nimport { PLAYLIST_RESULTS_PER_PAGE } from 'common/constants';\nimport { IAction, Response, IPagingObject, IRootState, IPaginationOptions } from 'common/interfaces';\n\nexport enum PLAYLISTS {\n  RECEIVE_PLAYLISTS = 'playlists/RECEIVE_PLAYLISTS',\n  CLEAR = 'playlist/CLEAR',\n}\n\nexport const receivePlaylist = (\n  data: IPagingObject<SpotifyApi.PlaylistObjectSimplified>\n): IAction<IPagingObject<SpotifyApi.PlaylistObjectSimplified>> => {\n  return { type: PLAYLISTS.RECEIVE_PLAYLISTS, data };\n};\n\nexport const clearPlaylist = (): IAction<unknown> => {\n  return { type: PLAYLISTS.CLEAR, data: undefined };\n};\n\nexport const fetchPlaylists = (\n  api: SpotifyWebApi,\n  userId: string,\n  options: IPaginationOptions\n): ThunkAction<Promise<void>, IRootState, unknown, IAction<IPagingObject<SpotifyApi.PlaylistObjectSimplified>>> => {\n  return (dispatch: Dispatch<IAction<IPagingObject<SpotifyApi.PlaylistObjectSimplified>>>): Promise<void> => {\n    return api.getUserPlaylists(userId, options).then((response: Response<SpotifyApi.ListOfUsersPlaylistsResponse>) => {\n      let data: IPagingObject<SpotifyApi.PlaylistObjectSimplified> = {\n        total: response.body.total,\n        items: {\n          [options.offset / PLAYLIST_RESULTS_PER_PAGE + 1]: response.body.items,\n        },\n      };\n\n      dispatch(receivePlaylist(data));\n    });\n  };\n};\n","import { connect, ConnectedProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport Playlist from './Playlist';\nimport { fetchTracksAttributes } from 'common/actions';\nimport { fetchPlaylist } from './actions';\nimport { IRootState } from 'common/interfaces';\n\n\nconst mapDispatchToProps = {\n  fetchPlaylist,\n  fetchTracksAttributes\n}\n\nconst mapStateToProps = (state: IRootState) => {\n  return {\n    spotifyWebApi: state.spotifyWebApi,\n    playlist: state.playlist,\n    tracksAttributes: state.tracksAttributes,\n  };\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type TPlaylistConnectedProps = ConnectedProps<typeof connector>;\n\nexport default connector(withRouter(Playlist));\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  CardMedia,\n  Card,\n  CardActionArea,\n  CardContent,\n  Typography,\n  createMuiTheme,\n  ThemeProvider,\n} from '@material-ui/core';\n\nconst cardTheme = createMuiTheme({\n  overrides: {\n    MuiCard: {\n      root: {\n        boxShadow: 'none',\n        '&:hover': {\n          boxShadow:\n            '0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)',\n        },\n      },\n    },\n  },\n});\n\nclass PlaylistCard extends React.PureComponent<SpotifyApi.PlaylistObjectSimplified> {\n  public render = (): JSX.Element => {\n    let { name, images, id } = this.props;\n\n    return (\n      <Link to={`/playlists/${id}`} style={{ textDecoration: 'none' }}>\n        <ThemeProvider theme={cardTheme}>\n          <Card>\n            <CardActionArea>\n              {images[0] && (\n                <CardMedia\n                  style={{ padding: '16px' }}\n                  component=\"img\"\n                  alt={`${name} playlist artwork`}\n                  image={images[0].url}\n                  title={name}\n                />\n              )}\n              <CardContent>\n                <Typography>{name}</Typography>\n              </CardContent>\n            </CardActionArea>\n          </Card>\n        </ThemeProvider>\n      </Link>\n    );\n  };\n}\n\nexport { PlaylistCard };\n","import * as React from 'react';\nimport { LinearProgress, ThemeProvider, Grid } from '@material-ui/core';\nimport Pagination from '@material-ui/lab/Pagination';\n\nimport { PlaylistCard } from './subcomponents';\nimport { PLAYLIST_RESULTS_PER_PAGE } from 'common/constants';\nimport { TPlaylistsProps, IPlaylistsState } from './interfaces';\n\nimport { linearProgresTheme } from 'common/themes';\n\nclass Playlists extends React.Component<TPlaylistsProps, IPlaylistsState> {\n  public constructor(props: TPlaylistsProps) {\n    super(props);\n\n    this.state = {\n      page: 1,\n      loading: true,\n    };\n  }\n\n  public componentDidMount = async (): Promise<void> => {\n    let { location, spotifyWebApi, fetchPlaylists, user, playlists } = this.props;\n\n    // no URL params\n    if (location.search === '') {\n      if (playlists === null) {\n        await fetchPlaylists(spotifyWebApi, user!.id, {\n          limit: PLAYLIST_RESULTS_PER_PAGE,\n          offset: 0,\n        });\n      }\n    }\n\n    this.setState({ loading: false });\n  };\n\n  public handlePaginationChange = (_: React.ChangeEvent<unknown>, page: number): void => {\n    let { fetchPlaylists, spotifyWebApi, user, playlists } = this.props;\n    if (playlists!.items[page] === undefined) {\n      fetchPlaylists(spotifyWebApi, user!.id, {\n        limit: PLAYLIST_RESULTS_PER_PAGE,\n        offset: (page - 1) * PLAYLIST_RESULTS_PER_PAGE,\n      });\n    }\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n    this.setState({ page });\n  };\n\n  public render = (): JSX.Element => {\n    let { playlists } = this.props;\n    let { page, loading } = this.state;\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Grid container spacing={3}>\n          {loading && (\n            <Grid item xs={12}>\n              <ThemeProvider theme={linearProgresTheme}>\n                <LinearProgress />\n              </ThemeProvider>\n            </Grid>\n          )}\n\n          {playlists &&\n            playlists.items[page] &&\n            playlists.items[page].map((playlist: SpotifyApi.PlaylistObjectSimplified) => {\n              return (\n                <Grid item xs={12} md={6} lg={4} xl={3} key={`playlist-card-${playlist.id}`}>\n                  <PlaylistCard {...playlist} />\n                </Grid>\n              );\n            })}\n        </Grid>\n        {playlists && playlists.items && (\n          <Pagination\n            count={Math.floor(playlists.total / PLAYLIST_RESULTS_PER_PAGE)}\n            page={page}\n            onChange={this.handlePaginationChange}\n            style={{ paddingTop: '16px' }}\n          />\n        )}\n      </div>\n    );\n  };\n}\n\nexport default Playlists;\n","export const PLAYLIST_RESULTS_PER_PAGE: number = 8;\n","import { connect, ConnectedProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport Playlists from './Playlists';\nimport { fetchPlaylists } from './actions';\nimport {IRootState } from 'common/interfaces';\n\n\nconst mapDispatchToProps = {\n  fetchPlaylists\n}\n\nconst mapStateToProps = (state: IRootState) => {\n  return {\n    spotifyWebApi: state.spotifyWebApi,\n    user: state.user,\n    playlists: state.playlists,\n  };\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type TPlaylistConnectedProps = ConnectedProps<typeof connector>;\n\nexport default connector(withRouter(Playlists));\n","import * as React from 'react';\nimport {\n  Typography,\n  Grid,\n  ThemeProvider,\n  Button,\n  Select,\n  Chip,\n  Slider,\n  Input,\n  MenuItem,\n  Avatar,\n  FormHelperText,\n  FormControl,\n  TextField,\n} from '@material-ui/core';\nimport PhotoSizeSelectActual from '@material-ui/icons/PhotoSizeSelectActual';\n\nimport { capitalizeFirstLetter } from 'common/helpers';\nimport { Response, IAudioFeatures } from 'common/interfaces';\nimport { TCreatePlaylistProps, ICreatePlaylistState } from './interfaces';\n\nimport { buttonTheme, sliderTheme, inputTheme, chipTheme } from 'common/themes';\n\nclass CreatePlaylist extends React.Component<TCreatePlaylistProps, ICreatePlaylistState> {\n  public constructor(props: TCreatePlaylistProps) {\n    super(props);\n\n    this.state = {\n      query: {\n        acousticness: {\n          min: 0.0,\n          max: 1.0,\n        },\n        danceability: {\n          min: 0.0,\n          max: 1.0,\n        },\n        energy: {\n          min: 0.0,\n          max: 1.0,\n        },\n        instrumentalness: {\n          min: 0.0,\n          max: 1.0,\n        },\n        valence: {\n          min: 0.0,\n          max: 1.0,\n        },\n      },\n      selectedArtistsIds: [],\n      playlistName: '',\n    };\n  }\n\n  public componentDidMount = (): void => {\n    let { fetchTopArtists, spotifyWebApi, topArtists, fetchFollowedArtists, followedArtists } = this.props;\n\n    if (!followedArtists) {\n      fetchFollowedArtists(spotifyWebApi);\n    }\n\n    if (!topArtists) {\n      fetchTopArtists(spotifyWebApi, 'short_term');\n      fetchTopArtists(spotifyWebApi, 'medium_term');\n      fetchTopArtists(spotifyWebApi, 'long_term');\n    }\n  };\n\n  public valueLabelFormat = (value: number, _: number): string => {\n    return Math.round(value * 100).toString();\n  };\n\n  public handleSliderChange = (attr: keyof IAudioFeatures) => {\n    return (_: React.ChangeEvent<unknown>, newValue: number[]) => {\n      let state: ICreatePlaylistState = this.state;\n      state.query[attr] = { min: newValue[0], max: newValue[1] };\n\n      this.setState(state);\n    };\n  };\n\n  public handlePlaylistNameChange = (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>): void => {\n    this.setState({\n      playlistName: event.target.value,\n    });\n  };\n\n  public handleArtistSelect = (event: React.ChangeEvent<{ value: unknown }>) => {\n    // have to force cast this since string[] isn't inherently supported as a React.ChangeEvent value\n    this.setState({\n      selectedArtistsIds: (event.target.value as unknown) as string[],\n    });\n  };\n\n  public handleCreatePlaylistClick = (_: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    let {\n      query: { acousticness, danceability, energy, instrumentalness, valence },\n    } = this.state;\n    this.props.spotifyWebApi\n      .getRecommendations({\n        min_acousticness: acousticness.min,\n        max_acousticness: acousticness.max,\n        min_danceability: danceability.min,\n        max_danceability: danceability.max,\n        min_energy: energy.min,\n        max_energy: energy.max,\n        min_instrumentalness: instrumentalness.min,\n        max_instrumentalness: instrumentalness.max,\n        min_valence: valence.min,\n        max_valence: valence.max,\n        seed_artists: this.state.selectedArtistsIds,\n        limit: 50,\n      })\n      .then((response: Response<SpotifyApi.RecommendationsFromSeedsResponse>) => {\n        if (response.body.tracks.length > 0) {\n          this.props.spotifyWebApi\n            .createPlaylist(this.props.user.id, this.state.playlistName)\n            .then((playlist: Response<SpotifyApi.CreatePlaylistResponse>) => {\n              let tracks: ReadonlyArray<string> = response.body.tracks.map(\n                (track: SpotifyApi.TrackObjectSimplified) => track.uri\n              );\n\n              this.props.spotifyWebApi.addTracksToPlaylist(playlist.body.id, tracks).then(() => {\n                this.props.clearPlaylist();\n                this.props.history.push(`/playlists/${playlist.body.id}`);\n              });\n            });\n        } else {\n          this.props.openSnackbar({\n            open: true,\n            message: 'Oops! Looks like you need to broaden your selection',\n          });\n        }\n      });\n  };\n\n  public alphabetizeArtists = (artists: SpotifyApi.ArtistObjectFull[]): SpotifyApi.ArtistObjectFull[] => {\n    return artists.sort((a: SpotifyApi.ArtistObjectFull, b: SpotifyApi.ArtistObjectFull) =>\n      a.name < b.name ? -1 : a.name > b.name ? 1 : 0\n    );\n  };\n\n  public renderPlaylistNameInput = (): JSX.Element => {\n    return (\n      <>\n        <Typography>Playlist name</Typography>\n        <TextField value={this.state.playlistName} onChange={this.handlePlaylistNameChange} />\n      </>\n    );\n  };\n\n  public renderAttributeSlider = (attribute: keyof IAudioFeatures): JSX.Element => {\n    return (\n      <>\n        <Typography>{capitalizeFirstLetter(attribute as string)}</Typography>\n        <ThemeProvider theme={sliderTheme}>\n          <Slider\n            valueLabelDisplay={'auto'}\n            valueLabelFormat={this.valueLabelFormat}\n            min={0}\n            max={1}\n            step={0.01}\n            value={[this.state.query[attribute].min, this.state.query[attribute].max]}\n            onChange={\n              (this.handleSliderChange(attribute) as unknown) as (\n                event: React.ChangeEvent<unknown>,\n                value: number | number[]\n              ) => void\n            }\n          />\n        </ThemeProvider>\n      </>\n    );\n  };\n\n  public renderChip = (artists: SpotifyApi.ArtistObjectFull[], value: string): JSX.Element => {\n    const selectedArtist = artists.find((a) => a.id === value);\n\n    if (selectedArtist?.images && selectedArtist.images.length > 0) {\n      return (\n        <ThemeProvider theme={chipTheme} key={value}>\n          <Chip label={selectedArtist.name} avatar={<Avatar src={selectedArtist.images[0].url} />} />\n        </ThemeProvider>\n      );\n    }\n\n    return (\n      <ThemeProvider theme={chipTheme} key={value}>\n        <Chip label={selectedArtist?.name} avatar={<PhotoSizeSelectActual />} />\n      </ThemeProvider>\n    );\n  };\n\n  public renderArtistSelect = (artists: SpotifyApi.ArtistObjectFull[]): JSX.Element => {\n    let { selectedArtistsIds } = this.state;\n\n    return (\n      <>\n        <Typography>Seed artists</Typography>\n        <ThemeProvider theme={inputTheme}>\n          <FormControl error>\n            <Select\n              error={selectedArtistsIds.length > 3}\n              multiple\n              value={selectedArtistsIds}\n              onChange={this.handleArtistSelect}\n              input={<Input multiline />}\n              renderValue={(selected) => (\n                <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n                  {(selected as string[]).map((value: string) => this.renderChip(artists, value))}\n                </div>\n              )}\n            >\n              {this.alphabetizeArtists(artists).map(\n                (artist: SpotifyApi.ArtistObjectFull): JSX.Element => (\n                  <MenuItem key={artist.name} value={artist.id}>\n                    {artist.name}\n                  </MenuItem>\n                )\n              )}\n            </Select>\n            {selectedArtistsIds.length > 3 && <FormHelperText>Please select 1 - 3 artists</FormHelperText>}\n          </FormControl>\n        </ThemeProvider>\n      </>\n    );\n  };\n\n  public render = (): JSX.Element => {\n    let { followedArtists } = this.props;\n    let { selectedArtistsIds, playlistName } = this.state;\n\n    let attributes: (keyof IAudioFeatures)[] = [\n      'acousticness',\n      'danceability',\n      'energy',\n      'instrumentalness',\n      'valence',\n    ];\n\n    let artists: SpotifyApi.ArtistObjectFull[] = [];\n\n    if (followedArtists && followedArtists?.artists) {\n      artists = followedArtists.artists.items;\n    }\n\n    let { topArtists } = this.props;\n\n    if (topArtists && topArtists.longTerm && topArtists.mediumTerm && topArtists.shortTerm && followedArtists) {\n      let { longTerm, mediumTerm, shortTerm } = topArtists;\n\n      artists = artists.concat(\n        followedArtists.artists.items,\n        artists.concat(longTerm.items.concat(mediumTerm.items.concat(shortTerm.items)))\n      );\n\n      artists = artists.filter((e, i) => artists.findIndex((a) => a.id === e.id) === i);\n    }\n\n    return (\n      <Grid container spacing={3} alignItems={'center'}>\n        <Grid item xs={12}>\n          <Typography variant={'h6'}>Create a playlist</Typography>\n        </Grid>\n\n        <Grid item xs={12}>\n          {this.renderPlaylistNameInput()}\n        </Grid>\n\n        <Grid item xs={12}>\n          {this.renderArtistSelect(artists)}\n        </Grid>\n\n        {attributes.map(\n          (attribute: keyof IAudioFeatures): JSX.Element => {\n            return (\n              <Grid item xs={12} key={`slider-${attribute}`}>\n                {this.renderAttributeSlider(attribute)}\n              </Grid>\n            );\n          }\n        )}\n\n        <Grid container direction={'row'} justify={'center'}>\n          <Grid item>\n            <ThemeProvider theme={buttonTheme}>\n              <Button\n                variant={'contained'}\n                color={'primary'}\n                size={'medium'}\n                onClick={this.handleCreatePlaylistClick}\n                disabled={selectedArtistsIds.length === 0 || selectedArtistsIds.length > 3 || playlistName === ''}\n              >\n                <Typography style={{ textTransform: 'none' }}>Create</Typography>\n              </Button>\n            </ThemeProvider>\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  };\n}\n\nexport default CreatePlaylist;\n","import { connect, ConnectedProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\n\nimport CreatePlaylist from './CreatePlaylist';\nimport { fetchTopArtists, openSnackbar, fetchFollowedArtists } from 'common/actions';\nimport { clearPlaylist } from 'components/Playlists/actions';\nimport { IRootState } from 'common/interfaces';\n\n\nconst mapDispatchToProps = {\n  fetchTopArtists,\n  fetchFollowedArtists,\n  openSnackbar,\n  clearPlaylist\n}\n\nconst mapStateToProps = (state: IRootState) => {\n  return {\n    spotifyWebApi: state.spotifyWebApi,\n    user: state.user!,\n    tracksAttributes: state.tracksAttributes,\n    topArtists: state.topArtists,\n    followedArtists: state.followedArtists,\n  };\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type TCreatePlaylistConnectedProps = ConnectedProps<typeof connector>;\n\nexport default connector(withRouter(CreatePlaylist));\n\n","import * as React from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { MapStateToPropsParam, connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Divider, Avatar } from '@material-ui/core';\n\nimport { IRootState } from 'common/interfaces';\n\nexport interface IProfileProps {}\n\nexport interface IStateProps {\n  user: SpotifyApi.CurrentUsersProfileResponse | null;\n}\n\nexport type TProfileProps = IProfileProps & IStateProps & RouteComponentProps;\n\nclass Profile extends React.PureComponent<TProfileProps> {\n  public render = (): JSX.Element | null => {\n    let { user } = this.props;\n\n    if (!user) return null;\n\n    return (\n      <div>\n        <Divider />\n        <br />\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar\n            alt={user.display_name}\n            src={user.images && user.images[0] && user.images[0].url}\n            style={{\n              width: '100px',\n              height: '100px',\n            }}\n          />\n          <h1\n            style={{\n              color: 'white',\n              padding: '8px 16px',\n              wordWrap: 'break-word',\n            }}\n          >\n            {user.display_name}\n          </h1>\n          <Divider />\n        </div>\n      </div>\n    );\n  };\n}\n\nconst mapStateToProps: MapStateToPropsParam<IStateProps, IProfileProps, IRootState> = (\n  state: IRootState\n): IStateProps => {\n  return {\n    user: state.user,\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(Profile));\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { Button, ThemeProvider, Typography } from '@material-ui/core';\nimport SpotifyWebApi from 'spotify-web-api-node';\n\nimport { IRootState } from 'common/interfaces';\n\nimport { buttonTheme } from 'common/themes';\n\nexport interface ISignOutProps {}\n\nexport interface IStateProps {\n  spotifyWebApi: SpotifyWebApi;\n}\n\nexport type TSignOutProps = ISignOutProps & IStateProps & RouteComponentProps;\n\nclass SignOut extends React.PureComponent<TSignOutProps> {\n  public onClickHandler = (_: React.MouseEvent<HTMLButtonElement, MouseEvent>): void => {\n    let { spotifyWebApi, history } = this.props;\n\n    spotifyWebApi.resetAccessToken();\n\n    history.push('/');\n  };\n\n  public render = (): JSX.Element => {\n    return (\n      <div>\n        <ThemeProvider theme={buttonTheme}>\n          <Button onClick={this.onClickHandler}>\n            <Typography style={{ color: 'white', textTransform: 'none' }}>Sign out</Typography>\n          </Button>\n        </ThemeProvider>\n      </div>\n    );\n  };\n}\nconst mapStateToProps = (state: IRootState): IStateProps => {\n  return {\n    spotifyWebApi: state.spotifyWebApi,\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(SignOut));\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MusicNote from '@material-ui/icons/MusicNote';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme, Theme, createStyles } from '@material-ui/core/styles';\n\nimport Profile from './subcomponents/Profile';\nimport SignOut from './subcomponents/SignOut';\nimport { Link } from 'react-router-dom';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    drawer: {\n      [theme.breakpoints.up('sm')]: {\n        width: drawerWidth,\n        flexShrink: 0,\n      },\n    },\n    appBar: {\n      backgroundColor: '#1D1E28',\n      [theme.breakpoints.up('sm')]: {\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n      },\n\n      [theme.breakpoints.up('sm')]: {\n        display: 'none',\n      },\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        display: 'none',\n      },\n    },\n    // necessary for content to be below app bar\n    toolbar: {\n      ...theme.mixins.toolbar,\n\n      [theme.breakpoints.up('sm')]: {\n        display: 'none',\n      },\n    },\n    drawerPaper: {\n      width: drawerWidth,\n      backgroundColor: '#1D1E28',\n    },\n    content: {\n      flexGrow: 1,\n      backgroundColor: '#d3d3d3',\n      padding: theme.spacing(3),\n    },\n  })\n);\n\nexport default function ResponsiveDrawer(props: any) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        height: 'inherit',\n      }}\n    >\n      <div>\n        <h1 style={{ color: 'white', padding: '8px 16px' }}>Apollo's Playlist</h1>\n        <Divider />\n        <List>\n          <Link to={'/playlists'} style={{ textDecoration: 'none' }}>\n            <ListItem button key={'Your Playlists'}>\n              <MusicNote style={{ color: 'white' }} />\n              <ListItemText primary={'Your Playlists'} style={{ color: 'white' }} />\n            </ListItem>\n          </Link>\n\n          <Link to={'/create-playlist'} style={{ textDecoration: 'none' }}>\n            <ListItem button key={'Create a Playlist'}>\n              <MusicNote style={{ color: 'white' }} />\n              <ListItemText primary={'Create a Playlist'} style={{ color: 'white' }} />\n            </ListItem>\n          </Link>\n        </List>\n        <Divider />\n      </div>\n      <div>\n        <Profile />\n        <Divider />\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <SignOut />\n        </div>\n      </div>\n    </div>\n  );\n\n  const container = document.body;\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            Apollo's Playlist\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            <React.Fragment>{drawer}</React.Fragment>\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {props.children}\n      </main>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Snackbar } from '@material-ui/core';\n\nimport HomePage from 'components/HomePage';\nimport NotFound from 'components/NotFound';\nimport Playlist from 'components/Playlist';\nimport Playlists from 'components/Playlists';\nimport CreatePlaylist from 'components/CreatePlaylist';\nimport ResponsiveDrawer from 'components/ResponsiveDrawer/ResponsiveDrawer';\nimport { TAppProps } from './index';\n\nimport './styles.scss';\n\nclass App extends React.PureComponent<TAppProps> {\n  public componentDidMount = (): void => {\n    let { history, spotifyWebApi, openSnackbar } = this.props;\n    let { location } = history;\n    let { pathname } = location;\n\n    let treatedPathname: string = '?' + pathname.substring(1);\n    let params: URLSearchParams = new URLSearchParams(treatedPathname);\n\n    if (!!params.get('expires_in')) {\n      let expiresIn: Date = new Date();\n      expiresIn.setSeconds(expiresIn.getSeconds() + Number(params.get('expires_in')!));\n\n      setInterval(() => {\n        if (new Date() >= expiresIn) {\n          clearInterval();\n          spotifyWebApi.resetAccessToken();\n          openSnackbar({\n            open: true,\n            message: 'Oops! Looks like your session has expired',\n            autoHideDuration: null,\n            anchorOrigin: { horizontal: 'center', vertical: 'top' },\n          });\n        }\n      }, 1000);\n    }\n  };\n\n  public render = (): JSX.Element => {\n    let { closeSnackbar, snackbar, spotifyWebApi } = this.props;\n    let isLoggedIn: boolean = !!spotifyWebApi.getAccessToken();\n\n    if (!isLoggedIn) {\n      return (\n        <div className=\"apollos-playlist-container\">\n          <Snackbar {...snackbar} onClose={closeSnackbar} />\n          <HomePage />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"apollos-playlist-container\">\n        <ResponsiveDrawer>\n          <Snackbar {...snackbar} onClose={closeSnackbar} />\n          <Switch>\n            <Route exact path={['/', '/playlists']} component={Playlists} />\n            <Route path={'/playlists/:playlistId'} component={Playlist} />\n            <Route exact path={'/create-playlist'} component={CreatePlaylist} />\n            <Route path=\"*\" component={NotFound} />\n          </Switch>\n        </ResponsiveDrawer>\n      </div>\n    );\n  };\n}\n\nexport default App;\n","import { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { connect, ConnectedProps } from 'react-redux';\nimport App from './App';\nimport { fetchUser, closeSnackbar, openSnackbar } from 'common/actions';\nimport { IRootState } from 'common/interfaces';\n\nconst mapStateToProps = (state: IRootState) => {\n  return {\n    spotifyWebApi: state.spotifyWebApi,\n    user: state.user,\n    snackbar: state.snackbar,\n  }\n}\n\nconst mapDispatchToProps = {\n  fetchUser,\n  openSnackbar,\n  closeSnackbar\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type TAppProps = ConnectedProps<typeof connector> & RouteComponentProps;\n\nexport default connector(withRouter(App));\n","import merge from 'lodash/merge';\nimport { SnackbarProps } from '@material-ui/core';\n\nimport { IAction } from 'common/interfaces';\nimport { SNACKBAR } from 'common/actions/snackbar';\n\nexport const initialSnackbarState: SnackbarProps = {\n  open: false,\n  message: '',\n  autoHideDuration: 10000,\n  anchorOrigin: { vertical: 'bottom', horizontal: 'right' },\n};\n\nexport const snackBarReducer = (\n  state: SnackbarProps = initialSnackbarState,\n  action: IAction<Partial<SnackbarProps>>\n): SnackbarProps => {\n  switch (action.type) {\n    case SNACKBAR.OPEN:\n      return merge({}, state, action.data);\n\n    case SNACKBAR.CLOSE:\n      return merge({}, state, { ...state, open: false });\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\n\nimport { clientReducer, userReducer, tracksAttributesReducer } from 'common/reducers';\nimport { playlistsReducer } from 'components/Playlists/reducer';\nimport { playlistReducer } from 'components/Playlist/reducer';\nimport { topArtistsReducer } from 'components/TopArtists/reducer';\nimport { snackBarReducer } from 'components/Snackbar/reducer';\nimport { followedArtistsReducer } from 'components/FollowedArtists/reducer';\n\nexport default combineReducers({\n  spotifyWebApi: clientReducer,\n  user: userReducer,\n  playlists: playlistsReducer,\n  playlist: playlistReducer,\n  tracksAttributes: tracksAttributesReducer,\n  topArtists: topArtistsReducer,\n  snackbar: snackBarReducer,\n  followedArtists: followedArtistsReducer,\n});\n","import SpotifyWebApi from 'spotify-web-api-node';\n\nimport { clientId, redirectUri } from 'authorization';\n\nexport const clientReducer = (\n  state: SpotifyWebApi = new SpotifyWebApi({\n    clientId,\n    redirectUri,\n  })\n): SpotifyWebApi => {\n  return state;\n};\n","import { USER } from 'common/actions';\nimport { IAction } from 'common/interfaces';\n\nexport const userReducer = (\n  state: SpotifyApi.CurrentUsersProfileResponse | null = null,\n  action: IAction<SpotifyApi.CurrentUsersProfileResponse>\n): SpotifyApi.CurrentUsersProfileResponse | null => {\n  switch (action.type) {\n    case USER.RECEIVE_USER:\n      return action.data;\n\n    default:\n      return state;\n  }\n};\n","import merge from 'lodash/merge';\n\nimport { PLAYLISTS } from './actions';\nimport { IAction, IPagingObject } from 'common/interfaces';\n\nexport const playlistsReducer = (\n  state: IPagingObject<SpotifyApi.PlaylistObjectSimplified> | null = null,\n  action: IAction<IPagingObject<SpotifyApi.PlaylistObjectSimplified>>\n): IPagingObject<SpotifyApi.PlaylistObjectSimplified> | null => {\n  switch (action.type) {\n    case PLAYLISTS.RECEIVE_PLAYLISTS:\n      return merge({}, state, action.data);\n\n    case PLAYLISTS.CLEAR:\n      return null;\n\n    default:\n      return state;\n  }\n};\n","import merge from 'lodash/merge';\n\nimport { PLAYLIST } from './actions';\nimport { IAction } from 'common/interfaces';\n\nexport const playlistReducer = (\n  state: SpotifyApi.SinglePlaylistResponse | null = null,\n  action: IAction<SpotifyApi.SinglePlaylistResponse>\n): SpotifyApi.SinglePlaylistResponse | null => {\n  switch (action.type) {\n    case PLAYLIST.RECEIVE_PLAYLIST:\n      return merge({}, state, action.data);\n\n    default:\n      return state;\n  }\n};\n","import merge from 'lodash/merge';\n\nimport { TRACKS_ATTRIBUTES } from 'common/actions';\nimport { IAction } from 'common/interfaces';\n\nexport const tracksAttributesReducer = (\n  state: SpotifyApi.MultipleAudioFeaturesResponse | null = null,\n  action: IAction<SpotifyApi.MultipleAudioFeaturesResponse>\n): SpotifyApi.MultipleAudioFeaturesResponse | null => {\n  switch (action.type) {\n    case TRACKS_ATTRIBUTES.RECEIVE_TRACKS_ATTRIBUTES:\n      return merge({}, state, action.data);\n\n    default:\n      return state;\n  }\n};\n","import merge from 'lodash/merge';\n\nimport { TOP_ARTISTS } from 'common/actions/topArtists';\nimport { IAction } from 'common/interfaces';\n\nexport const topArtistsReducer = (\n  state: ITopArtistsReducer | null = null,\n  action: IAction<SpotifyApi.UsersTopArtistsResponse>\n): ITopArtistsReducer | null => {\n  switch (action.type) {\n    case TOP_ARTISTS.RECEIVE_TOP_ARTISTS_LONG_TERM:\n      return merge({}, state, { longTerm: action.data });\n\n    case TOP_ARTISTS.RECEIVE_TOP_ARTISTS_MEDIUM_TERM:\n      return merge({}, state, { mediumTerm: action.data });\n\n    case TOP_ARTISTS.RECEIVE_TOP_ARTISTS_SHORT_TERM:\n      return merge({}, state, { shortTerm: action.data });\n\n    default:\n      return state;\n  }\n};\n\nexport interface ITopArtistsReducer {\n  longTerm: SpotifyApi.UsersTopArtistsResponse | null;\n  mediumTerm: SpotifyApi.UsersTopArtistsResponse | null;\n  shortTerm: SpotifyApi.UsersTopArtistsResponse | null;\n}\n","import merge from 'lodash/merge';\n\nimport { FOLLOWED_ARTISTS } from 'common/actions/followedArtists';\nimport { IAction } from 'common/interfaces';\n\nexport const followedArtistsReducer = (\n  state: SpotifyApi.UsersFollowedArtistsResponse | null = null,\n  action: IAction<SpotifyApi.UsersFollowedArtistsResponse>\n): SpotifyApi.UsersFollowedArtistsResponse | null => {\n  switch (action.type) {\n    case FOLLOWED_ARTISTS.RECEIVE: {\n      return merge({}, state, action.data);\n    }\n\n    default:\n      return state;\n  }\n};\n","import { createStore, applyMiddleware, Store } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport SpotifyWebApi from 'spotify-web-api-node';\n\nimport { clientId, redirectUri } from 'authorization';\n\nimport { initialSnackbarState } from 'components/Snackbar/reducer';\nimport rootReducer from './rootReducer';\nimport { IRootState } from 'common/interfaces';\n\nconst defaultState: IRootState = {\n  spotifyWebApi: new SpotifyWebApi({\n    clientId: clientId,\n    redirectUri: redirectUri,\n  }),\n  user: null,\n  playlist: null,\n  playlists: null,\n  tracksAttributes: null,\n  topArtists: null,\n  snackbar: initialSnackbarState,\n  followedArtists: null,\n};\n\nconst configureStore = (preloadedState: IRootState = defaultState): Store<IRootState> => {\n  return createStore(\n    rootReducer,\n    preloadedState,\n    process.env.NODE_ENV === 'development' ? composeWithDevTools(applyMiddleware(thunk)) : applyMiddleware(thunk)\n  );\n};\n\nexport default configureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Store } from 'redux';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from 'core/app';\nimport configureStore from 'redux/store';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const root: HTMLElement = document.getElementById('root') as HTMLElement;\n  const store: Store = configureStore();\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </Provider>,\n    root\n  );\n});\n"],"sourceRoot":""}