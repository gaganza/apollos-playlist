(this["webpackJsonpapollos-playlist"]=this["webpackJsonpapollos-playlist"]||[]).push([[0],{153:function(e,t,n){e.exports=n(264)},163:function(e,t,n){},165:function(e,t,n){},185:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),l=n(10),o=n.n(l),c=n(23),s=n(22),u=n(17),m=n(19),p=n(21),d=n(20),E=n(338),y=n(308),f=n(142),b=n(306),h=n(91),g=n(304),v=n(57),k=n.n(v),x=n(78),O=n(24),A=["playlist-read-collaborative","playlist-modify-public","user-top-read","playlist-read-private","playlist-modify-private","user-follow-read","user-read-recently-played","user-library-read"],T="a5c714fac13f4b5c924497c3b9e533a2",_="https://gaganza.github.io/apollos-playlist/",C=(n(163),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,a,r,i,l,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.history,a=t.spotifyWebApi,r=t.fetchUser,i=n.location,-1===(l=i.pathname).indexOf("access_token")){e.next=8;break}return o="?"+l.substring(1),a.setAccessToken(new URLSearchParams(o).get("access_token")),e.next=8,r(a).then((function(e){n.push("/playlists")}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=new URLSearchParams({client_id:encodeURI(T),redirect_uri:encodeURI(_),scope:A.join("%20"),response_type:encodeURI("token")});return r.createElement("a",{className:"sign-in-button",href:"https://accounts.spotify.com/authorize?"+e.toString()},"Login to Spotify")}}]),n}(r.PureComponent));!function(e){e.RECEIVE_USER="user/RECEIVE_USER"}(a||(a={}));var S,R=function(e){return function(t){return e.getMe().then((function(e){var n;t((n=e.body,{type:a.RECEIVE_USER,data:n}))}))}};!function(e){e.RECEIVE_TRACKS_ATTRIBUTES="trackAttributes/RECEIVE_TRACKS_ATTRIBUTES"}(S||(S={}));var I,P=function(e,t){return function(n){return e.getAudioFeaturesForTracks(t).then((function(e){var t;n((t=e.body,{type:S.RECEIVE_TRACKS_ATTRIBUTES,data:t}))}))}};!function(e){e.RECEIVE_TOP_ARTISTS_LONG_TERM="topArtsits/RECEIVE_TOP_ARTISTS_LONG_TERM",e.RECEIVE_TOP_ARTISTS_MEDIUM_TERM="topArtsits/RECEIVE_TOP_ARTISTS_MEDIUM_TERM",e.RECEIVE_TOP_ARTISTS_SHORT_TERM="topArtsits/RECEIVE_TOP_ARTISTS_SHORT_TERM"}(I||(I={}));var j,w=function(e,t){return function(n){return e.getMyTopArtists({time_range:t}).then((function(e){var a;n("long_term"===t?(a=e.body,{type:I.RECEIVE_TOP_ARTISTS_LONG_TERM,data:a}):"medium_term"===t?function(e){return{type:I.RECEIVE_TOP_ARTISTS_MEDIUM_TERM,data:e}}(e.body):function(e){return{type:I.RECEIVE_TOP_ARTISTS_SHORT_TERM,data:e}}(e.body))}))}};!function(e){e.OPEN="snackbar/OPEN",e.CLOSE="snackbar/CLOSE"}(j||(j={}));var M=function(e){return{type:j.OPEN,data:e}},L=Object(u.f)(Object(c.b)((function(e){return{spotifyWebApi:e.spotifyWebApi}}),(function(e){return{fetchUser:function(t){return e(R(t))}}}))(C)),D=(n(165),Object(g.a)((function(e){return{root:{height:"100vh",backgroundColor:"#1D1E28"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1507808973436-a4ed7b5e87c9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"#1D1E28",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#1D1E28"},avatar:{margin:e.spacing(1),backgroundColor:"#1D1E28"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})));var N,W=Object(u.f)((function(){var e=D();return i.a.createElement(b.a,{container:!0,component:"main",className:e.root},i.a.createElement(y.a,null),i.a.createElement(b.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),i.a.createElement(b.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0,className:"apollos-playlist__home-page"},i.a.createElement("div",{className:e.paper},i.a.createElement(h.a,{component:"h1",variant:"h5",style:{color:"white "}},"Apollo's Playlist"),i.a.createElement(L,null))))})),V=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.createElement("div",null,"Not Found")}}]),n}(r.PureComponent),U=Object(u.f)(V),B=n(310),F=n(311),H=n(312),Y=n(313),q=n(314),z=n(315),G=n(136),K=n.n(G),J=n(309),Q=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},X=n(28),Z=n.n(X),$=Z()({overrides:{MuiButton:{containedPrimary:{textTransform:"none",backgroundColor:"#1D1E28","&:hover":{backgroundColor:"grey"}}}}}),ee=Z()({overrides:{MuiSlider:{thumbColorPrimary:{backgroundColor:"#1D1E28"},track:{backgroundColor:"#1D1E28"},rail:{backgroundColor:"gray"},valueLabel:{color:"#1D1E28"}}}}),te=Z()({palette:{primary:{main:"#1D1E28",dark:"#1D1E28"}},overrides:{MuiInput:{root:{width:"100%"}},MuiFormControl:{root:{width:"100%"}}}}),ne=Z()({overrides:{MuiChip:{root:{margin:"8px"}}}}),ae=Z()({overrides:{MuiTableCell:{root:{paddingLeft:"0px",paddingRight:"8px",paddingTop:"4px",paddingBottom:"4px"}}}}),re=Z()({overrides:{MuiLinearProgress:{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"grey"},barColorPrimary:{backgroundColor:"#1D1E28"},bar:{borderRadius:5}}}}),ie=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={loading:!0},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;window.scrollTo({top:0,behavior:"smooth"});var n=this.props,a=n.location,r=n.spotifyWebApi,i=n.fetchPlaylist,l=n.fetchTracksAttributes,o=a.pathname.substring(a.pathname.lastIndexOf("/")+1);o!==(null===(e=this.props.playlist)||void 0===e?void 0:e.id)&&i(r,o).then((function(){var e=t.props.playlist;e&&l(r,function(e){return e.tracks.items.map((function(e){return e.track.id}))}(e))})),this.setState({loading:!1})}},{key:"renderPlaylistArtwork",value:function(e){return e&&e.images&&0!==e.images.length?r.createElement("img",{src:e.images[0].url,style:{maxWidth:"300px",maxHeight:"300px "},alt:"".concat(e.name," playlist artwork")}):null}},{key:"renderPlaylistName",value:function(e){return e?r.createElement(h.a,null,e.name):null}},{key:"renderPlaylistOwner",value:function(e){return e?r.createElement("div",{style:{display:"flex",alignItems:"row"}},r.createElement(K.a,null),r.createElement(h.a,null,e.owner.display_name)):null}},{key:"renderAttributeBar",value:function(e,t){return r.createElement("div",null,r.createElement(h.a,null,Q(t)),r.createElement(J.a,{theme:re},r.createElement(B.a,{variant:"determinate",value:e[t]})))}},{key:"renderPlaylistAnalysis",value:function(e){if(!e)return null;var t=function(e){var t={acousticness:0,danceability:0,energy:0,instrumentalness:0,valence:0},n=e.audio_features.length;return e.audio_features.forEach((function(e){t.acousticness+=e.acousticness,t.danceability+=e.danceability,t.energy+=e.energy,t.instrumentalness+=e.instrumentalness,t.valence+=e.valence})),t.acousticness=t.acousticness/n*100,t.danceability=t.danceability/n*100,t.energy=t.energy/n*100,t.instrumentalness=t.instrumentalness/n*100,t.valence=t.valence/n*100,t}(e);return r.createElement(b.a,{container:!0,spacing:1,direction:"column"},r.createElement(b.a,{item:!0},this.renderAttributeBar(t,"acousticness")),r.createElement(b.a,{item:!0},this.renderAttributeBar(t,"danceability")),r.createElement(b.a,{item:!0},this.renderAttributeBar(t,"energy")),r.createElement(b.a,{item:!0},this.renderAttributeBar(t,"instrumentalness")),r.createElement(b.a,{item:!0},this.renderAttributeBar(t,"valence")))}},{key:"renderTracks",value:function(e){return e?r.createElement(J.a,{theme:ae},r.createElement(F.a,null,r.createElement(H.a,null,r.createElement(Y.a,null,e.tracks.items.map((function(e){return r.createElement(q.a,{hover:!0,key:"table-row-".concat(e.track.id)},r.createElement(z.a,{style:{width:"50px"}},r.createElement("img",{style:{maxHeight:"50px",maxWidth:"50px"},src:e.track.album.images[0].url,alt:"Album artwork for the song"})),r.createElement(z.a,{style:{display:"felx",flexDirection:"column"}},r.createElement("div",null,e.track.name),r.createElement("div",null,e.track.artists[0].name," - ",e.track.album.name)),r.createElement(z.a,null,function(e){var t,n,a,r,i,l,o="";return t=(n=(a=e/1e3)/60)/60,l=Math.floor(a)%60,i=Math.floor(n)%60,0!==(r=Math.floor(t)%60)&&(o+=r+":",1===i.toString().length&&(i="0"+i)),o+=i+":",1===l.toString().length&&(l="0"+l),o+=l}(e.track.duration_ms)))})))))):null}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.playlist,a=e.tracksAttributes,i=this.state.loading,l=t.pathname.substring(t.pathname.lastIndexOf("/")+1);return n&&n.id===l&&a?r.createElement(b.a,{container:!0,spacing:3},i&&r.createElement(b.a,{item:!0,xs:12},r.createElement(J.a,{theme:re},r.createElement(B.a,null))),r.createElement(b.a,{item:!0,xs:12,md:6},this.renderPlaylistArtwork(n)),r.createElement(b.a,{item:!0,xs:12,md:6},this.renderPlaylistName(n),r.createElement("br",null),this.renderPlaylistOwner(n),r.createElement("br",null),this.renderPlaylistAnalysis(a)),r.createElement(b.a,{item:!0,xs:12},this.renderTracks(n))):null}}]),n}(r.Component);!function(e){e.RECEIVE_PLAYLIST="playlist/RECEIVE_PLAYLIST"}(N||(N={}));var le,oe=function(e,t){return function(n){return e.getPlaylist(t).then((function(e){var t;n((t=e.body,{type:N.RECEIVE_PLAYLIST,data:t}))}))}},ce=Object(u.f)(Object(c.b)((function(e){return{spotifyWebApi:e.spotifyWebApi,playlist:e.playlist,tracksAttributes:e.tracksAttributes}}),(function(e){return{fetchPlaylist:function(t,n){return e(oe(t,n))},fetchTracksAttributes:function(t,n){return e(P(t,n))}}}))(ie)),se=n(334),ue=n(139),me=n(316),pe=n(317),de=n(318),Ee=n(319),ye=Object(ue.a)({overrides:{MuiCard:{root:{boxShadow:"none","&:hover":{boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"}}}}}),fe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.images,a=e.id;return r.createElement(s.b,{to:"/playlists/".concat(a),style:{textDecoration:"none"}},r.createElement(J.a,{theme:ye},r.createElement(me.a,null,r.createElement(pe.a,null,n[0]&&r.createElement(de.a,{style:{padding:"16px"},component:"img",alt:"".concat(t," playlist artwork"),image:n[0].url,title:t}),r.createElement(Ee.a,null,r.createElement(h.a,null,t))))))}}]),n}(r.PureComponent),be=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handlePaginationChange=function(e,t){var n=a.props,r=n.fetchPlaylists,i=n.spotifyWebApi,l=n.user;void 0===n.playlists.items[t]&&r(i,l.id,{limit:8,offset:8*(t-1)}),window.scrollTo({top:0,behavior:"smooth"}),a.setState({page:t})},a.state={page:1,loading:!0},a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,a,r,i,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.location,a=t.spotifyWebApi,r=t.fetchPlaylists,i=t.user,l=t.playlists,""!==n.search){e.next=5;break}if(null!==l){e.next=5;break}return e.next=5,r(a,i.id,{limit:8,offset:0});case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.playlists,t=this.state,n=t.page,a=t.loading;return r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(b.a,{container:!0,spacing:3},a&&r.createElement(b.a,{item:!0,xs:12},r.createElement(J.a,{theme:re},r.createElement(B.a,null))),e&&e.items[n]&&e.items[n].map((function(e){return r.createElement(b.a,{item:!0,xs:12,md:6,lg:4,xl:3,key:"playlist-card-".concat(e.id)},r.createElement(fe,e))}))),e&&e.items&&r.createElement(se.a,{count:Math.floor(e.total/8),page:n,onChange:this.handlePaginationChange,style:{paddingTop:"16px"}}))}}]),n}(r.Component),he=n(37);!function(e){e.RECEIVE_PLAYLISTS="playlists/RECEIVE_PLAYLISTS",e.CLEAR="playlist/CLEAR"}(le||(le={}));var ge=function(e,t,n){return function(a){return e.getUserPlaylists(t,n).then((function(e){var t={total:e.body.total,items:Object(he.a)({},n.offset/8+1,e.body.items)};a(function(e){return{type:le.RECEIVE_PLAYLISTS,data:e}}(t))}))}},ve=Object(u.f)(Object(c.b)((function(e){return{spotifyWebApi:e.spotifyWebApi,user:e.user,playlists:e.playlists}}),(function(e){return{fetchPlaylists:function(t,n,a){return e(ge(t,n,a))}}}))(be)),ke=n(339),xe=n(343),Oe=n(322),Ae=n(333),Te=n(320),_e=n(341),Ce=n(344),Se=n(326),Re=n(325),Ie=n(327),Pe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props,t=e.fetchTopArtists,n=e.spotifyWebApi;t(n,"short_term"),t(n,"medium_term"),t(n,"long_term")},a.valueLabelFormat=function(e,t){return Math.round(100*e).toString()},a.handleSliderChange=function(e){return function(t,n){var r=a.state;r.query[e]={min:n[0],max:n[1]},a.setState(r)}},a.handlePlaylistNameChange=function(e){a.setState({playlistName:e.target.value})},a.handleArtistSelect=function(e){a.setState({selectedArtistsIds:e.target.value})},a.handleCreatePlaylistClick=function(e){var t=a.state.query,n=t.acousticness,r=t.danceability,i=t.energy,l=t.instrumentalness,o=t.valence;a.props.spotifyWebApi.getRecommendations({min_acousticness:n.min,max_acousticness:n.max,min_danceability:r.min,max_danceability:r.max,min_energy:i.min,max_energy:i.max,min_instrumentalness:l.min,max_instrumentalness:l.max,min_valence:o.min,max_valence:o.max,seed_artists:a.state.selectedArtistsIds,limit:50}).then((function(e){e.body.tracks.length>0?a.props.spotifyWebApi.createPlaylist(a.props.user.id,a.state.playlistName).then((function(t){var n=e.body.tracks.map((function(e){return e.uri}));a.props.spotifyWebApi.addTracksToPlaylist(t.body.id,n).then((function(){a.props.clearPlaylist(),a.props.history.push("/playlists/".concat(t.body.id))}))})):a.props.openSnackBar({open:!0,message:"Oops! Looks like you need to broaden your selection"})}))},a.renderPlaylistNameInput=function(){return r.createElement(r.Fragment,null,r.createElement(h.a,null,"Playlist name"),r.createElement(ke.a,{value:a.state.playlistName,onChange:a.handlePlaylistNameChange}))},a.renderAttributeSlider=function(e){return r.createElement(r.Fragment,null,r.createElement(h.a,null,Q(e)),r.createElement(J.a,{theme:ee},r.createElement(xe.a,{valueLabelDisplay:"auto",valueLabelFormat:a.valueLabelFormat,min:0,max:1,step:.01,value:[a.state.query[e].min,a.state.query[e].max],onChange:a.handleSliderChange(e)})))},a.renderArtistSelect=function(e){var t=a.state.selectedArtistsIds;return r.createElement(r.Fragment,null,r.createElement(h.a,null,"Seed artists"),r.createElement(J.a,{theme:te},r.createElement(Oe.a,{error:!0},r.createElement(Ae.a,{error:t.length>3,multiple:!0,value:t,onChange:a.handleArtistSelect,input:r.createElement(Te.a,{multiline:!0}),renderValue:function(t){return r.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},t.map((function(t){var n,a;return r.createElement(J.a,{theme:ne,key:t},r.createElement(_e.a,{label:null===(n=e.find((function(e){return e.id===t})))||void 0===n?void 0:n.name,avatar:r.createElement(Ce.a,{src:null===(a=e.find((function(e){return e.id===t})))||void 0===a?void 0:a.images[0].url})}))})))}},e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})).map((function(e){return r.createElement(Se.a,{key:e.name,value:e.id},e.name)}))),t.length>3&&r.createElement(Re.a,null,"Please select 1 - 3 artists"))))},a.render=function(){var e=a.state,t=e.selectedArtistsIds,n=e.playlistName,i=[],l=a.props.topArtists;if(l&&l.longTerm&&l.mediumTerm&&l.shortTerm){var o=l.longTerm,c=l.mediumTerm,s=l.shortTerm;i=(i=i.concat(o.items.concat(c.items.concat(s.items)))).filter((function(e,t){return i.findIndex((function(t){return t.id===e.id}))===t}))}return r.createElement(b.a,{container:!0,spacing:3,alignItems:"center"},r.createElement(b.a,{item:!0,xs:12},r.createElement(h.a,{variant:"h6"},"Create a playlist")),r.createElement(b.a,{item:!0,xs:12},a.renderPlaylistNameInput()),r.createElement(b.a,{item:!0,xs:12},a.renderArtistSelect(i)),["acousticness","danceability","energy","instrumentalness","valence"].map((function(e){return r.createElement(b.a,{item:!0,xs:12,key:"slider-".concat(e)},a.renderAttributeSlider(e))})),r.createElement(b.a,{container:!0,direction:"row",justify:"center"},r.createElement(b.a,{item:!0},r.createElement(J.a,{theme:$},r.createElement(Ie.a,{variant:"contained",color:"primary",size:"medium",onClick:a.handleCreatePlaylistClick,disabled:0===t.length||t.length>3||""===n},r.createElement(h.a,{style:{textTransform:"none"}},"Create"))))))},a.state={query:{acousticness:{min:0,max:1},danceability:{min:0,max:1},energy:{min:0,max:1},instrumentalness:{min:0,max:1},valence:{min:0,max:1}},selectedArtistsIds:[],playlistName:""},a}return n}(r.Component),je=Object(u.f)(Object(c.b)((function(e){return{spotifyWebApi:e.spotifyWebApi,user:e.user,tracksAttributes:e.tracksAttributes,topArtists:e.topArtists}}),(function(e){return{fetchTopArtists:function(t,n){return e(w(t,n))},openSnackBar:function(t){return e(M(t))},clearPlaylist:function(){return e({type:le.CLEAR,data:void 0})}}}))(Pe)),we=n(140),Me=n(61),Le=n(330),De=n(328),Ne=n(337),We=n(336),Ve=n(332),Ue=n(324),Be=n(265),Fe=n(329),He=n(137),Ye=n.n(He),qe=n(105),ze=n.n(qe),Ge=n(331),Ke=n(342),Je=n(14),Qe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props.user;return e?r.createElement("div",null,r.createElement(De.a,null),r.createElement("br",null),r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(Ce.a,{alt:e.display_name,src:e.images&&e.images[0]&&e.images[0].url,style:{width:"100px",height:"100px"}}),r.createElement("h1",{style:{color:"white",padding:"8px 16px",wordWrap:"break-word"}},e.display_name),r.createElement(De.a,null))):null}}]),n}(r.PureComponent),Xe=Object(u.f)(Object(c.b)((function(e){return{user:e.user}}))(Qe)),Ze=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onClickHandler=function(t){var n=e.props,a=n.spotifyWebApi,r=n.history;a.resetAccessToken(),r.push("/")},e}return Object(O.a)(n,[{key:"render",value:function(){return r.createElement("div",null,r.createElement(J.a,{theme:$},r.createElement(Ie.a,{onClick:this.onClickHandler},r.createElement(h.a,{style:{color:"white",textTransform:"none"}},"Sign out"))))}}]),n}(r.PureComponent),$e=Object(u.f)(Object(c.b)((function(e){return{spotifyWebApi:e.spotifyWebApi}}))(Ze)),et=Object(g.a)((function(e){var t;return Object(Ke.a)({root:{display:"flex"},drawer:Object(he.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:(t={backgroundColor:"#1D1E28"},Object(he.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),Object(he.a)(t,e.breakpoints.up("sm"),{display:"none"}),t),menuButton:Object(he.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:Object(Me.a)(Object(Me.a)({},e.mixins.toolbar),{},Object(he.a)({},e.breakpoints.up("sm"),{display:"none"})),drawerPaper:{width:240,backgroundColor:"#1D1E28"},content:{flexGrow:1,backgroundColor:"#d3d3d3",padding:e.spacing(3)}})}));function tt(e){var t=et(),n=Object(Je.a)(),a=i.a.useState(!1),r=Object(we.a)(a,2),l=r[0],o=r[1],c=function(){o(!l)},u=i.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"inherit"}},i.a.createElement("div",null,i.a.createElement("h1",{style:{color:"white",padding:"8px 16px"}},"Apollo's Playlist"),i.a.createElement(De.a,null),i.a.createElement(Ue.a,null,i.a.createElement(s.b,{to:"/playlists",style:{textDecoration:"none"}},i.a.createElement(Be.a,{button:!0,key:"Playlists"},i.a.createElement(ze.a,{style:{color:"white"}}),i.a.createElement(Fe.a,{primary:"Playlists",style:{color:"white"}}))),i.a.createElement(s.b,{to:"/create-playlist",style:{textDecoration:"none"}},i.a.createElement(Be.a,{button:!0,key:"Create a Playlist"},i.a.createElement(ze.a,{style:{color:"white"}}),i.a.createElement(Fe.a,{primary:"Create a Playlist",style:{color:"white"}})))),i.a.createElement(De.a,null)),i.a.createElement("div",null,i.a.createElement(Xe,null),i.a.createElement(De.a,null),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement($e,null)))),m=document.body;return i.a.createElement("div",{className:t.root},i.a.createElement(y.a,null),i.a.createElement(Le.a,{position:"fixed",className:t.appBar},i.a.createElement(Ge.a,null,i.a.createElement(Ve.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:c,className:t.menuButton},i.a.createElement(Ye.a,null)),i.a.createElement(h.a,{variant:"h6",noWrap:!0},"Apollo's Playlist"))),i.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},i.a.createElement(We.a,{smUp:!0,implementation:"css"},i.a.createElement(Ne.a,{container:m,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:l,onClose:c,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},i.a.createElement(i.a.Fragment,null,u))),i.a.createElement(We.a,{xsDown:!0,implementation:"css"},i.a.createElement(Ne.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},u))),i.a.createElement("main",{className:t.content},i.a.createElement("div",{className:t.toolbar}),e.children))}n(185);var nt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).componentDidMount=function(){var t=e.props,n=t.history,a=t.spotifyWebApi,r=t.openSnackbar,i="?"+n.location.pathname.substring(1),l=new URLSearchParams(i);if(l.get("expires_in")){var o=new Date;o.setSeconds(o.getSeconds()+Number(l.get("expires_in"))),setInterval((function(){new Date>=o&&(clearInterval(),a.resetAccessToken(),r({open:!0,message:"Oops! Looks like your session has expired",autoHideDuration:null,anchorOrigin:{horizontal:"center",vertical:"top"}}))}),1e3)}},e.render=function(){var t=e.props,n=t.closeSnackbar,a=t.snackbar;return!!t.spotifyWebApi.getAccessToken()?r.createElement("div",{className:"apollos-playlist-container"},r.createElement(tt,null,r.createElement(E.a,Object.assign({},a,{onClose:n})),r.createElement(u.c,null,r.createElement(u.a,{exact:!0,path:["/","/playlists"],component:ve}),r.createElement(u.a,{path:"/playlists/:playlistId",component:ce}),r.createElement(u.a,{exact:!0,path:"/create-playlist",component:je}),r.createElement(u.a,{path:"*",component:U})))):r.createElement("div",{className:"apollos-playlist-container"},r.createElement(E.a,Object.assign({},a,{onClose:n})),r.createElement(W,null))},e}return n}(r.PureComponent),at=Object(u.f)(Object(c.b)((function(e){return{spotifyWebApi:e.spotifyWebApi,user:e.user,snackbar:e.snackbar}}),(function(e){return{fetchUser:function(t){return e(R(t))},openSnackbar:function(t){return e(M(t))},closeSnackbar:function(){return e({type:j.CLOSE,data:void 0})}}}))(nt)),rt=n(41),it=n(138),lt=(n(186),n(90)),ot=n.n(lt),ct=n(26),st=n.n(ct),ut={open:!1,message:"",autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"right"}},mt=Object(rt.combineReducers)({spotifyWebApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ot.a({clientId:T,redirectUri:_});return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.RECEIVE_USER:return t.data;default:return e}},playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le.RECEIVE_PLAYLISTS:return st()({},e,t.data);case le.CLEAR:return null;default:return e}},playlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.RECEIVE_PLAYLIST:return st()({},e,t.data);default:return e}},tracksAttributes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.RECEIVE_TRACKS_ATTRIBUTES:return st()({},e,t.data);default:return e}},topArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.RECEIVE_TOP_ARTISTS_LONG_TERM:return st()({},e,{longTerm:t.data});case I.RECEIVE_TOP_ARTISTS_MEDIUM_TERM:return st()({},e,{mediumTerm:t.data});case I.RECEIVE_TOP_ARTISTS_SHORT_TERM:return st()({},e,{shortTerm:t.data});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.OPEN:return st()({},e,t.data);case j.CLOSE:return st()({},e,Object(Me.a)(Object(Me.a)({},e),{},{open:!1}));default:return e}}}),pt={spotifyWebApi:new ot.a({clientId:T,redirectUri:_}),user:null,playlist:null,playlists:null,tracksAttributes:null,topArtists:null,snackbar:ut},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return Object(rt.createStore)(mt,e,Object(rt.applyMiddleware)(it.a))};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("root"),t=dt();o.a.render(i.a.createElement(c.a,{store:t},i.a.createElement(s.a,null,i.a.createElement(at,null))),e)}))}},[[153,1,2]]]);
//# sourceMappingURL=main.d0a9d5f2.chunk.js.map